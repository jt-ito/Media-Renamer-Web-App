/* ==================
   Theme Variables
   ================== */
:root {
  /* Surfaces & Text */
  --bg: #ffffff;
  --text: #111827;
  --surface: #ffffff;
  --border: #d1d5db;
  --muted: #6b7280;

  /* Neutral (used for all buttons now) */
  --neutral: #f3f4f6;
  --neutral-hover: #e5e7eb;

  /* Focus */
  --focus: rgba(99, 102, 241, 0.6);
}

.dark {
  --bg: #0d1117;              /* Richer dark background */
  --text: #e6edf3;
  --surface: #161b22;
  --border: #30363d;
  --muted: #8b949e;

  /* Neutral for dark mode */
  --neutral: #21262d;
  --neutral-hover: #30363d;
}

/* Global background/text */
html, body, #root {
  background-color: var(--bg);
  color: var(--text);
}

/* Ensure header stays above the logs overlay and other fixed elements */
header {
  position: relative; /* create stacking context so z-index applies */
  z-index: 60; /* higher than .logs-overlay (40) and .logs-panel (45) */
}

/* ==================
   Buttons â€“ unified to neutral style
   ================== */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 40px; /* Matches View Logs */
  padding: 0 16px;
  border-radius: 0.375rem;
  border: 1px solid var(--border);
  background-color: var(--neutral);
  color: var(--text);
  font-size: 1rem;
  font-weight: 500;
  transition: background-color 150ms, border-color 150ms, color 150ms, box-shadow 150ms;
}

.btn:hover {
  background-color: var(--neutral-hover);
}

.btn:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--focus);
}

.btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* All buttons share base style now */
.btn-secondary,
.btn-primary {
  background-color: var(--neutral);
  border-color: var(--border);
  color: var(--text);
}

.btn-secondary:hover,
.btn-primary:hover {
  background-color: var(--neutral-hover);
}

/* Theme toggle matches button size */
.btn-theme {
  height: 40px;
  padding: 0 16px;
}

/* ==================
   Nav Buttons
   ================== */
.nav-button {
  min-width: 8rem;
  text-align: center;
}

.nav-button--active {
  background-color: var(--neutral-hover);
}

/* ==================
   Form Controls
   ================== */
.select, .input {
  height: 40px;
  border-radius: 0.375rem;
  border: 1px solid var(--border);
  background-color: var(--surface);
  color: var(--text);
  padding: 0 12px;
  font-size: 1rem;
}

.select:focus-visible, .input:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px var(--focus);
}

/* ==================
   Cards
   ================== */
.card {
  border: 1px solid var(--border);
  background-color: var(--surface);
  border-radius: 0.5rem;
  box-shadow: 0 1px 2px rgba(0,0,0,0.04);
  padding: 8px;
  min-height: 160px;
}

.card:hover {
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}

/* ==================
   Text Utilities
   ================== */
.text-muted {
  color: var(--muted);
}

/* ==================
   Logs overlay (top-mounted)
   ================== */
.logs-overlay {
  /* kept for backward compatibility when rendered inline */
  position: relative;
  display: flex;
  justify-content: center;
  pointer-events: none;
  z-index: 40;
}

/* Floating logs box: fixed at top-right under header, then follows on right when header out of view */
.logs-floating {
  position: fixed;
  right: 16px;
  top: var(--floating-top, 64px); /* offset from top using header height + gap */
  width: 420px;
  max-height: 40vh;
  pointer-events: none;
  z-index: 45; /* below header (60) but above content */
}
.logs-floating .logs-panel {
  pointer-events: auto;
  border-radius: 8px;
  overflow: auto;
  box-shadow: 0 10px 30px rgba(0,0,0,0.12);
}
.logs-floating.follow {
  /* when following, pin to right side vertically centered-ish */
  top: 20vh;
  right: 16px;
}
.logs-panel {
  pointer-events: auto;
  width: 100%;
  max-height: 40vh;
  margin-top: 8px; /* match GAP in LogsDrawer so panel visually sits below header */
  overflow: auto;
  background: var(--surface);
  border-bottom: 1px solid var(--border);
  box-shadow: 0 6px 20px rgba(0,0,0,0.12);
  z-index: 45; /* maintain stacking under header but above content */
}
.logs-panel .row {
  display: flex;
  align-items: center;
  gap: 12px;
}
.logs {
  margin: 0;
  padding: 12px;
  font-size: 12px;
  color: var(--muted);
  white-space: pre-wrap;
}

/* Three-dot loader (lightweight) inspired by simple CSS loading animations */
.loader-dots {
  display: inline-flex;
  align-items: center;
  gap: 6px;
}
.loader-dots .dot {
  width: 8px;
  height: 8px;
  background: currentColor;
  border-radius: 50%;
  opacity: 0.2;
  transform: translateY(0);
  animation: loader-dot 1s infinite ease-in-out;
}
.loader-dots .dot:nth-child(2) { animation-delay: 0.15s; }
.loader-dots .dot:nth-child(3) { animation-delay: 0.3s; }
@keyframes loader-dot {
  0%, 80%, 100% { opacity: 0.2; transform: translateY(0); }
  40% { opacity: 1; transform: translateY(-6px); }
}

/* small helper when logs are open - body gets paddingTop applied inline; add transition for smoothness */
body.logs-open {
  transition: padding-top 160ms ease;
}
